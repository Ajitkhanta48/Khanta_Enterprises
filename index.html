<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Khanta Enterprises - Secure Login</title>

<style>
body{
background:#111;
color:white;
font-family:Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
margin:0;
}

.box{
background:#1c1c1c;
padding:30px;
border-radius:12px;
width:90%;
max-width:350px;
text-align:center;
}

input{
width:100%;
padding:12px;
margin:10px 0;
border:none;
border-radius:6px;
background:#333;
color:white;
}

button{
width:100%;
padding:12px;
margin-top:10px;
border:none;
border-radius:6px;
background:#f39c12;
font-weight:bold;
cursor:pointer;
}

.hidden{display:none;}
#error{color:red;margin-top:10px;}
</style>
</head>
<body>

<div class="box" id="loginBox">
<h2>Khanta Enterprises</h2>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="error"></p>
</div>

<div class="box hidden" id="dashboard">
<h2>Welcome</h2>
<p>Secure Admin-Controlled System</p>
<button onclick="logout()">Logout</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

/* âœ… YOUR REAL FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyBYTyRBydwn-vZcHS_DAwluJT0imZNvvIM",
  authDomain: "khanta-traders.firebaseapp.com",
  projectId: "khanta-traders",
  storageBucket: "khanta-traders.firebasestorage.app",
  messagingSenderId: "767495287096",
  appId: "1:767495287096:web:e4a9f241ba3838880991cd",
  measurementId: "G-SWSN7CHW5C"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* LOGIN */
window.login = function(){
const username = document.getElementById("username").value.trim();
const password = document.getElementById("password").value.trim();

if(!username || !password){
document.getElementById("error").innerText="Enter Username and Password";
return;
}

const email = username + "@khanta.local";

signInWithEmailAndPassword(auth,email,password)
.catch((error)=>{
document.getElementById("error").innerText=error.message;
});
}

/* LOGOUT */
window.logout = function(){
signOut(auth);
}

/* AUTO SESSION CHECK */
onAuthStateChanged(auth, (user) => {
if(user){
document.getElementById("loginBox").classList.add("hidden");
document.getElementById("dashboard").classList.remove("hidden");
}else{
document.getElementById("loginBox").classList.remove("hidden");
document.getElementById("dashboard").classList.add("hidden");
}
});
</script>

</body>
</html>
